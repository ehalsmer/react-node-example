(this.webpackJsonpapp1=this.webpackJsonpapp1||[]).push([[0],{304:function(e,n,t){e.exports=t(632)},309:function(e,n,t){},310:function(e,n,t){},336:function(e,n){},352:function(e,n){},354:function(e,n){},370:function(e,n){},372:function(e,n){},562:function(e,n){},632:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(16),c=t.n(o),s=t(294),l=(t(309),t(67)),i=(t(310),t(663)),m=t(666),u=t(139),f=t(668),p=t(669),h=t(670),g=t(672),d=t(671),b=t(673),E=t(295),v=t(189),O=t(292),j=t.n(O);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}var w,x=Object(a.createContext)(),S={general:[{from:"ehalsmer",message:"Hello!",channel:"general"},{from:"lonavarro",message:"asdf",channel:"general"},{from:"anmoore",message:"Test test test!",channel:"general"}],questions:[{from:"ehalsmer",message:";oij3rn34n142,r v wer l342",channel:"questions"},{from:"user982",message:"What?",channel:"questions"},{from:"pumpkin",message:"Hi everyone",channel:"questions"},{from:"ehalsmer",message:"Stuff and things",channel:"questions"}],off_topic:[{from:"anmoore",message:"24kj4hlknsd !",channel:"off_topic"},{from:"lonavarro",message:"What lovely weather we're having",channel:"off_topic"},{from:"anmoore",message:"...",channel:"off_topic"}]},k=function(e,n){var t=n.payload,a=t.from,r=t.message,o=t.channel;switch(n.type){case"RECEIVE_MESSAGE":return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){Object(v.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,Object(v.a)({},o,[].concat(Object(E.a)(e[o]),[{from:a,message:r,channel:o}])));default:return e}},P=function(e){w.emit("chat message",e)},C="user"+(100*Math.random()).toFixed(0),N=function(e){var n=Object(a.useReducer)(k,S),t=Object(l.a)(n,2),o=t[0],c=t[1];return w||(w=j()()).on("chat message",(function(e){c({type:"RECEIVE_MESSAGE",payload:e})})),r.a.createElement(x.Provider,{value:{allMessages:o,sendMessageAction:P,user:C}},e.children)},I=Object(i.a)((function(e){return{root:{margin:"50px",padding:e.spacing(3,2)},flex:{display:"flex",alignItems:"center"},channelsWindow:{width:"30%",height:"300px",borderRight:"1px solid grey"},chatWindow:{width:"70%",height:"300px",padding:"20px"},chatBox:{width:"85%"},chatButton:{width:"15%"},chip:{margin:"4px"}}})),M=function(){var e=Object(a.useContext)(x),n=e.allMessages,t=e.sendMessageAction,o=e.user,c=Object.keys(n),s=Object(a.useState)(c[0]),i=Object(l.a)(s,2),E=i[0],v=i[1],O=Object(a.useState)(""),j=Object(l.a)(O,2),y=j[0],w=j[1],S=I();return r.a.createElement(m.a,{className:S.root},r.a.createElement(u.a,{variant:"h4",component:"h4"},"Blockchat"),r.a.createElement(u.a,{variant:"h5",component:"h5"},E),r.a.createElement("div",{className:S.flex},r.a.createElement("div",{className:S.channelsWindow},r.a.createElement(f.a,null,c.map((function(e){return r.a.createElement(p.a,{onClick:function(e){return v(e.target.innerText)},key:e,button:!0},r.a.createElement(h.a,{primary:e}))})))),r.a.createElement("div",{className:S.chatWindow},n[E].map((function(e,n){return r.a.createElement("div",{className:S.flex,key:n},r.a.createElement(b.a,{size:"small",label:e.from,className:S.chip}),r.a.createElement(u.a,{variant:"body1"},e.message))})))),r.a.createElement("div",{className:S.flex},r.a.createElement(g.a,{margin:"normal",label:"Type message here",className:S.chatBox,value:y,onChange:function(e){return w(e.target.value)}}),r.a.createElement(d.a,{type:"submit",variant:"contained",color:"primary",className:S.button,onClick:function(){t({from:o,message:y,channel:E}),w("")}},"Send")))},A=t(133),W=t(134),_=t(136),q=t(135),B=t(137),D=t(100),R="https://s3.amazonaws.com/onename/avatar-placeholder.png";a.Component,a.Component;var T=function(){var e=new D.AppConfig,n=new D.UserSession({appConfig:e,redirectPath:"https://react-node-eg.herokuapp.com/"});console.log("userSession",n),console.log("isLoggedIn()",n.isUserSignedIn());var t=Object(a.useState)(),o=Object(l.a)(t,2),c=o[0],s=o[1];return Object(a.useEffect)((function(){n.isSignInPending()&&n.handlePendingSignIn().then((function(e){window.history.replaceState({},document.title,"/"),s(e)}))}),[c]),r.a.createElement(N,null,r.a.createElement("div",{className:"App"},r.a.createElement(M,null)))};c.a.render(r.a.createElement(s.a,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[304,1,2]]]);
//# sourceMappingURL=main.1ce192c3.chunk.js.map